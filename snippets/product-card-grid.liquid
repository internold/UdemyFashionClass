{% capture saved_amount %}{{ product.compare_at_price | minus: product.price | money_without_trailing_zeros }}{% endcapture %}
{% unless grid_width %}
	{% assign grid_width = 'col-lg-3 col-md-4 col-xs-6' %}
{% endunless %}
<div class="product_grid {{ grid_width }}" data-price="{{ product.price | divided_by: 100 }}">
  <div class="product-grid">
    <figure>
      <img src="{{ product.featured_image | img_url: '300x300' }}" alt="{{ product.title }}">
      <a href="{{ product.url | within: collection }}" style="background-image:url({{ product.featured_image | img_url: '300x300' }});"></a> 
      <div class="prod_label">
        {% if product.compare_at_price > product.price %}
        <span class="sale">SAVE {{ saved_amount }}</span> 
        {% endif %}
        {% unless product.available %}
        <span class="sold">sold out</span> 
        {% endunless %}
      </div>
    </figure>
    <div class="product-grid-desc">
      <h3><a href="{{ product.url | within: collection }}">{{ product.title }}</a></h3>
      <span>{{ product.price | money }}</span>
      {% if product.compare_at_price_max > product.price %}
      <span class="discount-price">{{ product.compare_at_price_max | money }}</span> 
      {% endif %}
    </div>
  </div>
</div>
